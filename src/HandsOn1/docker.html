<h3><a class="content" id=ho1_g4D>Using Docker</a></h3>

<a href="https://docs.docker.com"> Docker </a> is a tool designed to make it easier to run applications by using containers.
Containers allow a developer to package up an application with all of the parts it needs,
such as libraries and other dependencies, and ship it all out as one package.

Docker is available for Linux, Windows and MacOS. You can find the installation instructions
for your OS <a href="https://docs.docker.com/install/">here</a>.<br/><br/>

We have the fdollowing  docker image with Geant4 ###G4VERSION installed:

<ul>
	<li>###DOCKERIMAGEFEDORA</li>
	<li>###DOCKERIMAGEUBUNTU</li>
	<li>###DOCKERIMAGEALMA</li>
</ul>

You can pull one by running the following command (note, you only need to pull once):<br/><br/>

<codeblock>
	$ docker pull ###DOCKERIMAGEFEDORA
</codeblock>

<br/>

A good way to use this image is to create a directory on your local machine
to share with the container (we'll use <code>~/mywork</code> as an example). This way you can edit your work
on your local machine and run it in the container.
<br/><br/>

<codeblock>
	$ mkdir ~/mywork
</codeblock>

<br/>

Run the image in batch mode or interactively, mounting <code>~/mywork</code> and making it available as <code>/usr/local/mywork</code>.
Here is how:

<br/>

<h4>Run in Batch Mode:</h4>

Notice in batch mode you will not be able to run Geant4 examples/applications with GUIs.<br/>

<codeblock>
	$ docker run --platform linux/amd64 -it --rm -v ~/mywork:/usr/local/mywork ###DOCKERIMAGEFEDORA bash
</codeblock>
<br/>
<div class="info">
	In batch mode the environment will load automatically and you will see this prompt:<br/><br/>
	<codeblock>
		[root@8eec32cdb4ea local]#<br/>
	</codeblock>
	<br/>
	You are now inside the container, and can run Geant4 examples/applications w/o GUIs.
	When you are done, type <code>exit</code> to leave the container.
</div>

<h4>Run Interactively:</h4>

Running the container interactively and accessing it throug a web browser is a good way to run Geant4 examples/applications with GUIs.<br/>

<codeblock>
	$ docker run --platform linux/amd64 -it --rm -p 8080:8080 -v ~/mywork:/usr/local/mywork ###DOCKERIMAGEFEDORA
</codeblock>
<br/>

<div class="warning">
On some MacOS systems with M[1,2,3] CPU, you may need to disable the "Use Rosetta" option for docker to run properly.
</div>

<br/>

<div class="info">
	In interactive mode a prompt will not appear, but the following message will be displayed:<br/><br/>
	<codeblock>
		Browse to:<br/>
		http://localhost:8080/vnc.html<br/>
	</codeblock>
	<br/>
	Navigate to the URL in your web browser to access the container's desktop environment. You will
	see this image:<br/><br/>
	<td><img src="docker_no_vnc.png" width=###IMAGES_WIDTH/></td>
	<br/> <br/>

	Click the connect button to access the container's desktop environment. You will be able to run Geant4 examples/applications with GUIs:
	<br/><br/>

	<td><img src="docker_screen.png" width=###IMAGES_WIDTH/></td>
	When you are done, CNTRL-C in the terminal to stop the container.


</div>
<br/><br/>