<H2><a class="content" id=g4inst>Geant4 Installation</a></h2>

Depending on your machine or your preference, follow one of the four installation procedures.

<ul>
	<li><a href="#g4SbyS">Step by step compilation</a></li>
	<li><a href="#g4DLI">Download pre-compiled libraries</a></li>
	<li><a href="#g4D">Running Docker</a></li>
	<li><a href="#g4VM">Running a virtual machine</a></li>
</ul>
<br/>
<hr/>


<iframe src="geant4_compilation.html" height="4000"></iframe>


<h3><a class="content" id=g4VM>Installation through virtual machine</a></h3>

<b>Note for virtual machine users:</b> if you are using a VM,
even if you have a multi-core laptop it is possible that the
VM sees only one CPU core. It is usually just a matter of VM
configuration to allow more than one CPU in the guest OS.

The Geant4 Virtual Machine provides a recent version of the Geant4 source code,
examples and libraries; it includes a compiler and extra software such as
a large set of visualisation libraries and analysis tools.
It provides a fully working Geant4 system.
It avoids the effort to find and install the key pieces needed to create an installation on your own system, which varies depending on the OS, its version and many other factors.


The following information is a summary of the key steps. Further guidance can be found at
<a target="_new" href="https://geant4.cenbg.in2p3.fr/">the CENBG home</a> of the Geant4 Virtual Machine.


<h4>Step 1: Ensure that your machine can run the Geant4 Virtual Machine</h4>
Make sure that your computer meets the minimum requirements:
<ul>
	<li>Windows or Linux users : desktop or laptop PC running Windows (preferably 10)</li>
	<li>Linux: desktop or laptop PC with a recent Linux release (able to run
		<a target="_new" href="https://www.vmware.com/uk/products/workstation-player/workstation-player-evaluation.html">VMware workstation for Linux</a>)
	<li>
	<li>Mac users : Mac with a recent version of macOS (capable of running the virtualization software below)</li>
	<li>at least 30 GB of free disk space available</li>
	<li>at least 4 GB of RAM available for the virtual machine on the PC or Mac - so likely a total of at least 6 or 8 GB installed.</li>
</ul>

<h4>Step 2: Obtain a Virtual Machine 'player'</h4>
There is a choice of Virtual machine host software. The following is what we recommend:
<ul>
	<li>On Windows you can choose between <a target="_new" href="https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html">VMware
		Player</a> (free for non-commercial, personal and home use) or
		<a target="_new" href="https://www.vmware.com/products/workstation-pro/faqs.html#installation">VMWare Workstation Pro</a>.
	<li>On Linux the <a target="_new" href="https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html">VM
		Workstation Player</a> can be obtained for use and evaluation.
	<li>On macOS <a target="_new" href="https://www.vmware.com/products/fusion.html">VMware Fusion</a> has a download for evaluation,
		but is a commercial product (after the evaluation period of 30 days, a license must be purchased to keep using it).
		Note that the versions we found to work are:
		<ul>
			<li><a target="_new" href="https://docs.vmware.com/en/VMware-Fusion/13.0.1/rn/vmware-fusion-1301-release-notes/index.html">Fusion 13.5.0</a>,
				the latest, supports macOS versions 12 Monterey and later (i.e. 14 Sonoma);
			<li>
			<li><a target="_new" href="https://docs.vmware.com/en/VMware-Fusion/12.2.5/rn/vmware-fusion-1225release-notes/index.html">Fusion 12.2.5</a>,
				supports macOS versions 11 Big Sur and later (i.e. 12 Monterey and 13 Ventura).
			<li>
		</ul>
</ul>
If you identify issues with the recommended software or versions, please inform us.

<h4>Step 3: Obtain the Geant4 virtual machine</h4>
Obtain the Virtual machine file which corresponds to your player, and uncompress it:

<ul>
	<li>Download the Geant4 Virtual Machine. Note that the VM file is quite large (&gt;18 GBytes),
		and may take a long time to download (will depend greatly on your network bandwidth).
	<li>
	<li>The file to download is located at:
		<ul>
			<li><a target="_new" href="https://heberge.lp2ib.in2p3.fr/G4VM/Vmware/Stable/geant4.11.2.0">VMware VM - Geant4 11.2.0</a> (VMware on Intel chips)</li>
			<li><a target="_new" href="https://heberge.lp2ib.in2p3.fr/G4VM/Vmware/Stable/geant4.11.2.0/Mac">VMware VM - Geant4 11.2.0</a> (VMware on macOS Apple Silicon chips)</li>
		</ul>
	<li>We recommend to start to download it few days before the course, to ensure that you can obtain it, and to familiarize yourself with it.
		For more information about the Geant4 VM see <a target="_new" href="https://geant4.cenbg.in2p3.fr">CENBG home page</a>.
	<li>
</ul>

<h4>Step 4: Uncompressing and starting the Virtual Machine</h4>
You need software which can un-compress '7z' files. There are many other choices, such as the popular (de-)compressor
<a target="_new" href="https://www.winzip.com">WinZip</a>.
On macOS you may use the built-in Archive Utility.

Follow the instructions in the <a target="_new" href="https://heberge.lp2ib.in2p3.fr/G4VM/Vmware/Stable/geant4.11.2.0/readme-g4.11.2.0">readme</a>
file for launching the VM.

Note that you may encounter issues on opening the VM file:
<ul>
	<li>on PC, including Windows and some Linux systems, you will likely need to enable features needed for virtualisation in the BIOS. This is needed if you encounter a message such as "Intel Vtx is disabled...";</li>
	<li>on macOS you may need to grant access to some resources to Fusion -- this may require a reboot.</li>
</ul>

<h4>Step 5: Locate the Geant4 installation and check it</h4>
<ul>
	<li>The virtual machine will boot.</li>
	<li>You should now obtain a (Linux) desktop, which is mostly empty.
		<ul>
			<li>Its menus can be found in the top left corner (icon and 'Activities').</li>
			<li>It's keyboard is configured as French 'AZERTY'. You can change this to US 'QWERTY' layout by
				changing the keyboard settings using "Settings" from the menu on the top right corner.
			<li>
		</ul>
	</li>
	<li>Open a Terminal window using the icon "Activities":
		<ul>
			<li>Look for the rectangle with a silver border around a prompt (in this menu) and you use it to obtain a Terminal.</li>
			<li>You should see a new window, ready to accept your commands</li>
			<li>It is running the command shell 'tcsh'</li>
		</ul>
	<li>
	<li>Locate Geant4.
		The Geant4 installation is located under this path:
		<br/><br/>
		<TABLE border=1>
			<TBODY>
			<TR>
				<TD><code>
					&nbsp;$ echo $G4INSTALL
					<br/>&nbsp;/usr/local/geant4.11.2.0
					<br/>&nbsp;$ echo $G4EXAMPLES
					<br/>&nbsp;/usr/local/geant4.11.2.0/share/Geant4/examples
					<br/>&nbsp;$ ls $G4EXAMPLES
					<br/>&nbsp;advanced/ basic/ CMakeLists.txt extended/ .....
				</code></TD>
			</TR>
			</TBODY>
		</TABLE>
		<br/>

	</li>
</ul>
We thank CENBG and CNRS for providing the Geant4 Virtual Machine, which is described in the article
<a target="_new" href="https://www.worldscientific.com/doi/abs/10.1142/S1793962310000122">Int. J.
	Model. Simul. Sci. Comput. 1 (2010) 157-178</a>, for updating it regularly and promptly with each
production release and patch, and for their helpful collaboration.

<h3><a class="content"id=g4D>Installation through Docker</a></h3>

If you have a JLab computing account, you may download the Docker image.
<font color="#ff0000"><b>Mauri, please fill this section with JLab Docker Hub</b></font>

<h3><a class="content"id=g4DLI>Download pre-compiled libraries</a></h3>
You may download binary images of pre-compiled Geant4 libraries for selected combinations of OS and compiler.
<ul>
	<li><a target="_new" href="https://cern.ch/geant4-data/releases/lib4.11.2/Darwin-clang15.0.0-Sonoma.tar.gz">MacOS Sonoma, clang-15.0.0</a></li>
	<li><a target="_new" href="https://cern.ch/geant4-data/releases/lib4.11.2/Linux-g++11.3.1-Alma9.tar.gz">Linux Alma9, g++-11.3.1</a></li>
	<li>Windows 10, Visual Studio Code-17.7.6 - <a target="_new" href="https://cern.ch/geant4-data/releases/lib4.11.2/WIN32-VC17.7.6-10.exe">.exe</a>
		or <a target="_new" href="https://cern.ch/geant4-data/releases/lib4.11.2/WIN32-VC17.7.6-10.zip">.zip</a></li>
</ul>
You also need to download necessary data files from <a target="_new" href="https://www.geant4.org/download/11.2.0.html">Geant4 download page</a>.
<br/>
<br/>

<hr/>



